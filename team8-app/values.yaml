frontend:
  replicaCount: 1
  image: ghcr.io/doda2025-team8/app-frontend:0.1.5-260117-153434-feat-include-conf
  service:
    port: 80
    targetPort: 8080
  labels:
    app: app-frontend
    component: frontend
  hostname: "team8.local"
  canaryHostname: "canary.team8.local"

backend:
  replicaCount: 1
  service:
    port: 8080
    targetPort: 8080
  modelHost: "http://model-service:8081"
  v1:
    image: ghcr.io/doda2025-team8/app-service:latest
  v2:
    image: ghcr.io/doda2025-team8/app-service:0.1.7-20260116194934-continuous-experimentation
    env:
      ENABLE_CACHE: "true"
  labels:
    app: app-service
    component: backend

model:
  replicaCount: 1
  image: ghcr.io/doda2025-team8/model-service:latest

  service:
    port: 8081
    targetPort: 8081

  env:
    MODEL_SERVICE_PORT: "8081"
    MODEL_DIR: "/app/models"
    MODEL_VERSION: "latest"
    GITHUB_REPO: "doda2025-team8/model-service"

model_shadow:
  env:
    MODEL_VERSION: "v1.0.2"

  labels:
    app: model-service 
    component: ml-model

alertmanager:
  email:
    to: "recieveremail@example.com" # here replace with the receiver's email adress
    from: "email@example.com" # here replace with the sender's email
    smarthost: "smtp.gmail.com:587" # SMTP server address and port (for our testing we used gmail)
    authUsername: "email@example.com" # SMTP username (usually your email password)
    authPassword: "password" # SMTP password (your email password base64 encoded)
                             # you may need to generate an app password depending on your provider
    requireTLS: true

grafana:
    namespace: default

istio:
  enabled: true

  ingressGatewaySelector:
    istio: ingressgateway

  gateway:
    hosts:
      - "*"
    port: 80
  
  canary:
    stableWeight: 90
    canaryWeight: 10
